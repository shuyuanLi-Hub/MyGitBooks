◊ <a href="http://mirror.centos.org/centos/7/isos/" target="_blank">CentOS官方网站</a>
◊ <a href="http://centos.ustc.edu.cn/centos/7/isos/" target="_blank">中科大镜像站</a>
◊ <a href="https://mirrors.tuna.tsinghua.edu.cn/centos/7/isos/" target="_blank">清华大学镜像站</a>
◊ UEFI(Unified extensible Firmware Interface):统一可扩展固件接口
◊ LVM：这是一种可以弹性增加或缩小文件系统容量的分区。
◊ ~：代表的是“用户的家目录”
◊ #：root的提示字符
◊ $：一般身份用户的提示字符

***

**★ 基础命令**

▲ uname -r：查看内核版本ali

▲ date：显示日期与时间
   - date +%Y/%m/%d ：【2015/05/29】
   - date +%H:%M ：【14：33】

▲ cal：显示日历

     - cal [month] [year]

▲ bc：计算器

```
默认仅输出整数，如果要输出小数点下位数，就执行：scale=number（number就是小数点位数）
```

▲ 【Ctrl + Alt + F2~F6】：命令行模式登录tty2~tty6终端

​	- 【Ctrl + Alt + F1】：图形用户界面模式

▲ locale：显示目前所支持的语系
   - 【LANG=en_US.utf-8】：修改语系成为英语语系
   -  【export LC_ALL=en_US.utf-8】：LANG只与输出信息有关，若需要更改其他不同的信息，要同步更新LC_ALL

▲ rsync：可以完整的复制所有的权限属性等数据，也能够进行镜像处理。

▲ wodim：刻录 =》旧版：cdrecord

▲ dd if="input_file" of="output_file" bs="block_size" count="number"
     选项与参数
   - if：就是input file，也可以是设备；
   -  of：就是output file，也可以是设备；
   - bs：设置一个block的大小，若未指定则默认是512Bytes（一个扇区的大小）；
   -  count：多少个bs的意思。

★ cpio：可以备份任何东西，包括设备文件。

★ alias

★vim程序编辑器

- [Ctrl] + [f]：屏幕向下移动一页，相当于[Page Down]按键
- [Ctrl] + [b]：屏幕向上移动一页，相当于[Page Up]按键
- [Ctrl] + [d]：屏幕向下移动半页
- [Ctrl] + [u]：屏幕向上移动半页
- +：光标移动到非空格符的下一行
- -：光标移动到非空格符的上一行
- 数字0或功能键[Home]：移动到这一行的最前面字符处
- $或功能键[End]：移动到这一行的最后面字符
- H：光标移动到这个屏幕的最上方那一行的第一个字符
- M：光标移动到这个屏幕的中央那一行的第一个字符
- L：光标移动到这个屏幕的最下方那一行的第一个字符
- G：移动到这个文件的最后一行
- gg：移动到这个文件的第一行，相当于1G
- n`<Enter>`：n为数字，光标向下移动n行
- /word：向光标之下寻找一个名称为word的字符串
- ?word：向光标之上寻找一个字符串名称为word的字符串
- n：英文按键n，代表重复前一个查找的操作
- N：反向进行前一个查找的操作，例如/word后，按下N则表示向上查找word
- :n1,n2s/word/word2/g：n1与n2为数字，在第n1与n2行之间寻找word1这个字符串，并将该字符串替换为word2
- :1,$s/word1/word2/gc：从第一行到最后一行寻找word1字符串，并将该字符串替换为word2，且在替换前显示提示字符进行确认
- x与X：x为向后删除一个字符（相当于[del]按键），X为向前删除一个字符（相当于[Backspace]即退格键）
- dd：删除光标所在的那一整行
- ndd：n为数字，删除光标所在的向下n行
- d1G：删除光标所在到第一行的所有数据
- dG：删除光标所在到最后一行的所有数据
- d$：删除光标所在处，到该行的最后一个字符
- d0：数字0，删除光标所在处，到该行的最前面一个字符
- yy：复制光标所在的那一行
- nyy：复制光标所在的向下n行
- y1G：复制光标所在行到第一行的所有数据
- yG：复制光标所在行到最后一行的所有数据
- y0：复制光标所在的那个字符到该行行首的所有数据
- y$：复制光标所在的那个字符到该行行尾的所有数据
- p与P：p为将已复制的数据在光标下一行粘贴，P则为贴在光标上一行
- J：将光标所在行与下一行的数据结合成同一行
- c：重复删除多个数据，例如向下删除10行，[10cj]
- u：恢复前一个操作
- [Ctrl]+r：<u>重做</u>上一个操作
- .：小数点，<u>重复</u>前一个操作
- i与I：进入插入模式；i为从目前光标所在处插入，I为在目前所在行的第一个非空格符处开始插入
- a与A：a为从目前光标所在的下一个字符处开始插入，A为从光标所在行的最后一个字符处开始插入
- o与O：o为在目前光标所在的下一行处插入新的一行；O为在目前光标所在处的上一行插入新的一行
- r与R：进入替换模式，r只会替换光标所在的那一个字符一次；R会一直替换光标所在的文字，直到按下Esc为止
- ZZ：若文件没有修改，则不保存退出，若文件已经被修改过，则保存后退出
- :w[filename]：将编辑的数据保存成另一个文件（类似另存新文件）
- :r[filename]：在编辑的数据中，读入另一个文件的数据，亦即将[filename]这个文件内容加到光标所在行后面
- :n1,n2 w[filename]：将n1到n2的内容保存为filename这个文件
- :! command：暂时退出vi到命令行模式下执行command的显示结果。例如【:! ls /home】即可在vi当中查看/home下面以ls输出的文件信息

★ vim环境的修改

	- :set nu：显示行号，设置之后，会在每一行的前缀显示改行的行号
	- :set nonu：与set nu相反，为取消行号

★ 可视区块(Visual Block)

- v：字符选择，会将光标经过的地方反白选择
- V：行选择，会将光标经过的行反白选择
- [Ctrl]+v：可视区块，可以用矩形的方式选择数据
- y：将反白的地方复制起来
- d：将反白的地方删除掉
- p：将刚刚复制的区块，在光标所在处粘贴

★ 多文件编辑

- :n：编辑下一个文件
- :N：编辑上一个文件
- :files：列出目前这个vim开启的所有文件 

★ 多窗口功能

- :sp [filename]：打开一个新窗口，如果有加filename，表示在新窗口创建一个新文件，否则表示两个窗口为同一个文件内容（同步显示）
- [Ctrl]+w+j或↓：按键的按法是：先按下[Ctrl]不放，再按下w后放开所有的按键，之后再按下j（或者向下箭头键），则光标可移动到下方的窗口
- [Ctrl]+w+k或↑：同上，不过光标移动到上面的窗口
- [Ctrl]+w+q：其实就是 :q 结束退出，此外也可输入 :close 关闭所在的窗口

★ vim的关键词补全功能

- [Ctrl]+x -> [Ctrl]+n：通过目前正在编辑的这个【文件的内容文字】作为关键词，予以补齐
- [Ctrl]+x -> [Ctrl]+f：以当前目录内的【文件名】作为关键词，予以补齐
- [Ctrl]+x -> [Ctrl]+o：以扩展名作为语法补充，以vim内置的关键词，予以补齐

★ DOS(windows系统)与Linux的换行符

​	DOS使用的换行符为^M$，我们称为CR与LF两个符号，而在Linux下面，则是仅有LF($)这个换行符

- dos2unix [-kn] file [newfile]
- unix2dos [-kn] file [newfile]

​    选项与参数:

- -k：保留该文件原来的mtime时间格式（不更新文件上次内容经过自定义的时间）
- -n：保留原本的旧文件，将转换后的内容输出到新文件，如：dos2unix -n old new

★ vim环境设置与记录：~/.vimrc,~/.viminfo

​	vim的环境设置可以写入在~/.vimrc文件中

​	可以使用iconv进行文件语系编码的转换

​	--P304

★ 认识BASH这个Shell

 - 名词：

   - shell(壳程序)
   - sh(Bourne shell)
   - C shell
   - K shell
   - TCSH
   - bash(Bourne Again SHell)：Bourne shell的增强版本，也是基于GNU的架构下发展出来的

- 命令别名设置功能：(alias)

  ```bash
  alias lm='ls -al'
  ```

- 查询命令是否为Bash shell的内置命令：type

  ```bash
  type [-tpa] name -- p315
  ```

  type主要在找出执行文件而不是一般文件名

- 组合键：

  - [ctrl]+u/[ctrl]+k：分别是从光标处向前删除命令串([ctrl]+u)及向后删除命令串([ctrl]+k)
  - [ctrl]+a/[ctrl]+e：分别是让光标移动到整个命令串的最前面([ctrl]+a)或最后面([ctrl]+e)

- 变量的使用与设置：echo，变量设置规则，unset

  - 变量的设置规则

    - 变量与变量内容以一个等号【=】来连接

    - 等号两边不能直接接空格

    - 变量名称只能是英文字母与数字，但是开头字符不能是数字

    - 变量内容若有空格可使用双引号【"】或单引号【'】将变量内容结合起来：**双引号内的特殊字符如$等，可以保留原有的特性**

      ```bash
      var="lang is $LANG"则echo $var可得lang is zh_CN.UTF-8
      ```

    - 单引号内的特殊字符则仅为一般字符（纯文本）

      ```bash
      var='lang is $LANG'则echo $var可得lang is $LANG
      ```

    - 可用转义符【\】将特殊符号（如[Enter]，$，\，空格，'等）变成一般字符

    - 在一串命令的执行中，还需要借由其他额外的命令所提供的信息时，可以使用返单引号【\`命令\`】或【$(命令)】

    - 若该变量为扩增变量内容时，则可用"$变量名称"或${变量}累加内容

      ```bash
      PATH="$PATH":/home/bin或PATH=${PATH}:/home/bin或PATH="${PATH}":/home/bin
      ```

    - 若该变量需要在其他子程序执行，则需要以export来使变量变成环境变量

    - 通常大写字符为系统默认变量，自行设置变量可以使用小写字符，方便判断

    - 取消变量的方法为使用unset：【unset变量名称】

★ 环境变量的功能

- env：(environment（环境）)

- export

  - RANDOM：随机数的变量

    ```bash
    declare -i number=$RANDOM*10/32768 ; echo $number
    8
    //随机取出0~9之间的数值
    ```

- set：观察所有变量（含环境变量与自定义变量）P--323

- $：（关于本Shell的PID）PID：进程标识符(Process ID)

- ?：（关于上个执行命令的返回值）

★ 变量的有效范围

- 被export后的变量，可以称之为环境变量，环境变量可以被子进程所引用，但其他的自定义变量内容就不会存在于子进程中。
- 【环境变量】与【bash的操作环境】意思不太一样，举例来说，PS1并不是环境变量，但是这个PS1会影响到bash的界面（提示字符）

★ 变量键盘读取，数组与声明：read，array，declare

- read：读取来自键盘输入的变量

  - -p：后面可以接提示字符

  - -t：后面可以接等待的【秒数】

    ```bash
    read -p "Please keyin your name:" -t 30 named
    Please keyin your name: Shuyuan
    echo ${named}
    Shuyuan
    ```

- declare，typeset：声明变量的类型

  - declare [-aixr] variable

  - -a：定义数组（array）

  - -i：定义整数

  - -x：定义环境变量

  - -r：设置成为readonly类型，该变量不可被更改内容，也不能unset

  - 变量类型默认为字符串，所以若不指定变量类型，则1+2为一个字符串而不是计算式

  - bash环境中的数值运算，默认最多仅能到达整数形态，所以1/3的结果是0

  - -p：单独列出变量的类型

    ```bash
    declare -x sum
    declare +x sum	//将-变成+可以进行【取消】操作
    ```

  - 如果不小心将变量设置为【只读】，通常要注销再登录才能恢复该变量的类型

  - array

    ```bash
    var[index]=content
    ```

★ 与文件系统及程序的限制关系：ulimit

 - ```bash
   ulimit [-SHacdfltu] [配额] --P329
   ```

★ 变量内容的删除，取代与替换

​	

```bash
echo ${variable#/*local/bin:}	//代表从变量内容的最前面开始向右删除，且仅删除最短的那个；代表要被删除的部分，由于#代表由前面开始删除，所以这里便由开始的/写起。需要注意的是，我们还可以通过通配符*来替换0到无穷多个任意字符
```

- #：符合替换文字的【最短的】那一个
- ##：符合替换文字的【最长的】那一个
- %：从后面向前删除变量内容
- %%   --P331
- ${变量/旧字符串/新字符串}：若变量内容符合【旧字符串】则【第一个旧字符串会被新字符串替换】
- ${变量//旧字符串/新字符串}：若变量内容符合【旧字符串】则【全部的旧字符串会被新字符串替换】

---

**★ 计算机概论**

▲ 早期芯片组分南北桥

​     A.北桥：负责连接速度较快的CPU，内存与显卡等组件；
​     B.南桥：负责连接速度较慢的设备接口，包括硬盘，USB设备，网卡等。
​     不过由于北桥最重要的就是CPU与内存之间的桥梁，因此在目前的主流架构中，大多将北桥的内存控制器整合到了CPU当中。

★ MBR（MS-DOS）与GPT磁盘分区表（partition table）

▲MBR（Master Boot Record，主引导记录）
    ●主引导记录（Master Boot Record，MBR）：可以安装启动引导程序的地方，有446字节；
    ●分区表（partition table）:记录整块硬盘分区的状态，有64字节。
    ●分区表最多只能容纳四组分区记录，这四个分区的记录被称为主要（Primary）或扩展（Extended）分区。
    ●所谓的分区只是针对那个64字节的分区表进行设置而已。
    ●分区的最小单位通常为柱面（Cylinder）。
    ●当系统要写入磁盘时，一定会参考磁盘分区表，才能针对某个分区进行数据的处理。
    ●每组分区表仅有16字节。
    ●操作系统无法使用2.2TB以上的磁盘容量；
    ●MBR仅有一个区块，若被破坏后，经常无法或很难恢复；
    ●MBR内的存放启动引导程序的区块仅446字节，无法存储较多的程序代码。

▲GPT(GUID partition table)磁盘分区表 -- P45
    ●在扇区的定义上，大多使用所谓的逻辑区块地址（Logical Block Address,LBA(默认为512字节)）
    ●默认可以提供多达128组记录；
    ●没有所谓的主，扩展，逻辑分区的概念，每组记录都可以独立存在，每个都可以视为是主要分区，每一个分区都可以拿来格式化使用。

★ 启动流程中的BIOS与UEFI启动检测程序 -- P76
	    ●BIOS：启动主动执行的固件，会认识第一个可启动的设备；
	    ●MBR：第一个可启动设备的第一个扇区内的主引导记录块，内含启动引导代码；
	    ●启动引导程序（boot loader）:一个可读取内核文件来执行的软件；
		●提供选项：用户可以选择不同的启动选项，这也是多重引导的重要功能；
		●加载内核文件：直接指向可使用的程序区段来启动操作系统；
		●转交其他启动引导程序：将启动管理功能转交给其他启动引导程序负责。
	    ●内核文件：开始启动操作系统。 

❗  由于LBA0仅提供第一阶段的启动引导程序代码，因此如果你使用类似grub的启动引导程序的话，那么就得要额外划分出一个“BIOS boot”的分区，这个分区才能够放置其他开机过程所需的程序。	（通常2MB）。

★ 主机硬盘的主要规划
	▲最简单的分区方法
	    ●仅划分出根目录与内存交换分区（/与swap）。

▲稍微麻烦 → 总容量 40G
    格式：①所需目录/设备 ②磁盘容量 ③文件系统 ④分区格式
    **● /boot -- P89**
		● 1GB  xfs    主要分区
    **● /**
		● 10GB xfs    LVM方式
    **● /home**
		● 5GB   xfs    LVM方式
    **● /var**
    **● swap	（交换分区）**
		● 1GB   swap LVM方式
		● 就是磁盘模拟为内存的交换分区，由于交换分区并不会使用到目录树的挂载，所以用交换分区就不需要指定挂载点。
    **●BIOS Boot**
		● 2M
		● 就是GPT分区表可能会使用到的东西，若使用MBR，就不需要。

❗ 加入强制使用GPT分区表的安装参数
    ●使用箭头键，将光标移动到【install CentOS7】选项；
    ●按下键盘的【Tab】按键，让光标移动到界面最下方输入额外的内核参数；
    ●输入【inst.gpt】 -- P95				



